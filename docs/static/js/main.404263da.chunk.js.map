{"version":3,"sources":["components/CharInput/CharInput.tsx","components/CharsTable/CharTable.tsx","components/CharPie/CharPie.tsx","components/App/App.tsx","store/Store.ts","index.tsx","store/createStore.ts","components/App/App.module.css"],"names":["CharInput","observer","_class2","_Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","initializerDefineProperty","_descriptor","assertThisInitialized","onChange","e","saveValue","target","value","notify","inherits","createClass","key","store","props","placeholder","allowedChars","react_default","a","createElement","input","allowClear","Component","applyDecoratedDescriptor","prototype","observable","configurable","enumerable","writable","initializer","_class","CharTable","CharTable_class","chars","slice","table","dataSource","columns","title","dataIndex","CharPie","CharPie_class","data","map","item","char","count","color","getColorByChar","dist_default","label","_ref","Math","round","percentage","lineWidth","labelPosition","labelStyle","fontSize","fontFamily","fill","colors","random","toString","padStart","App","inject","_dec","App_class","onChangeChars","setValue","className","styles","root","CharInput_CharInput","CharTable_CharTable","CharPie_CharPie","Store","Store_class","Store_descriptor","_allowedChars","mapper","getCharStatMapper","getCharStat","sort","sortCharStat","getUniqChars","entries","_ref2","slicedToArray","split","forEach","reduce","b","charCodeAt","get","keys","action","getOwnPropertyDescriptor","computed","stores","setAllowedChars","createStore","ReactDOM","render","mobx_react_module","App_App","document","getElementById","module","exports","appear"],"mappings":"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","file":"static/js/main.404263da.chunk.js","sourcesContent":["import React, { ChangeEvent, Component } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { Input } from \"antd\";\nimport { observable } from \"mobx\";\nimport { IStore } from \"../../store/IStore\";\n\nexport interface CharInputProp {\n  onChange: (value: string) => void;\n  store: IStore;\n}\n\n@observer\nexport class CharInput extends Component<CharInputProp> {\n  @observable\n  private value: string = \"\";\n\n  public render(): React.ReactNode {\n    const { store } = this.props;\n    const placeholder: string = `allowed chars: ${store.allowedChars}`;\n    return (\n      <Input\n        placeholder={placeholder}\n        value={this.value}\n        onChange={this.onChange}\n        allowClear\n      />\n    );\n  }\n\n  private onChange = (e: ChangeEvent<HTMLInputElement>) => {\n    this.saveValue(e.target.value);\n    this.notify();\n  };\n\n  private saveValue(value: string): void {\n    this.value = value;\n  }\n\n  private notify(): void {\n    const { onChange } = this.props;\n    onChange(this.value);\n  }\n}\n","import React, { Component } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { IStore } from \"../../store/IStore\";\nimport { Table } from \"antd\";\n\nexport interface CharTableProps {\n  store: IStore;\n}\n\n@observer\nexport class CharTable extends Component<CharTableProps> {\n  public render(): React.ReactNode {\n    const store = this.props.store;\n    const data = store.chars.slice();\n\n    return data.length ? (\n      <Table dataSource={store.chars.slice()} columns={columns} />\n    ) : null;\n  }\n}\n\nconst columns = [\n  {\n    title: \"Char\",\n    dataIndex: \"char\",\n    key: \"char\"\n  },\n  {\n    title: \"Count\",\n    dataIndex: \"count\",\n    key: \"count\"\n  }\n];\n","import React, { Component } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { IStore } from \"../../store/IStore\";\nimport ReactMinimalPieChart from \"react-minimal-pie-chart\";\n\nexport interface CharPieProps {\n  store: IStore;\n}\n\n@observer\nexport class CharPie extends Component<CharPieProps> {\n  public render(): React.ReactNode {\n    const store = this.props.store;\n\n    const data: {\n      title: string;\n      value: number;\n      color: string;\n      key: string;\n    }[] = store.chars.map(item => ({\n      title: item.char,\n      value: item.count,\n      key: item.char,\n      color: getColorByChar(item.char)\n    }));\n\n    return (\n      <ReactMinimalPieChart\n        data={data}\n        label={({ data, dataIndex }) =>\n          Math.round(data[dataIndex].percentage) + \"%\"\n        }\n        lineWidth={15}\n        labelPosition={70}\n        labelStyle={{\n          fontSize: \"5px\",\n          fontFamily: \"sans-serif\",\n          fill: \"#000000\"\n        }}\n      />\n    );\n  }\n}\n\nconst colors: { [field: string]: string } = {};\n\nfunction getColorByChar(char: string): string {\n  if (!colors[char]) {\n    const color: string = `#${Math.round(Math.random() * 0xffffff)\n      .toString(16)\n      .padStart(6, \"0\")}`;\n\n    colors[char] = color;\n  }\n\n  return colors[char];\n}\n","import React, { Component } from \"react\";\nimport styles from \"./App.module.css\";\nimport { inject } from \"mobx-react\";\nimport { CharInput } from \"../CharInput/CharInput\";\nimport { CharTable } from \"../CharsTable/CharTable\";\nimport { CharPie } from \"../CharPie/CharPie\";\nimport { IStore } from \"../../store/IStore\";\n\ninterface AppProps {\n  store?: IStore;\n}\n\n@inject(\"store\")\nexport class App extends Component<AppProps> {\n  public render(): React.ReactNode {\n    const store: IStore = this.props.store!;\n\n    return (\n      <div className={styles.root}>\n        <div className={styles.item}>\n          <CharInput store={store} onChange={this.onChangeChars} />\n        </div>\n        <div className={styles.item}>\n          <CharTable store={store} />\n        </div>\n        <div>\n          <CharPie store={store} />\n        </div>\n      </div>\n    );\n  }\n\n  onChangeChars = (value: string) => {\n    const store: IStore = this.props.store!;\n    store.setValue(value);\n  };\n}\n","import { action, computed, observable } from \"mobx\";\nimport { IStore, CharStat } from \"./IStore\";\n\nexport class Store implements IStore {\n  @observable chars: CharStat[] = [];\n\n  @action\n  setValue(value: string): void {\n    const mapper: CharStatMapper = this.getCharStatMapper(value);\n    const chars: CharStat[] = this.getCharStat(mapper);\n    chars.sort(this.sortCharStat);\n\n    this.chars = chars;\n  }\n\n  @action\n  setAllowedChars(value: string): void {\n    this._allowedChars = this.getUniqChars(value);\n  }\n\n  @computed\n  get allowedChars(): string[] {\n    return Object.keys(this._allowedChars).sort();\n  }\n\n  private getCharStat(mapper: CharStatMapper): CharStat[] {\n    return Object.entries(mapper).map(([key, value]) => ({\n      char: key,\n      count: value\n    }));\n  }\n\n  private getCharStatMapper(value: string): CharStatMapper {\n    const mapper: { [field: string]: number } = {};\n\n    const chars: string[] = value.split(\"\");\n\n    chars.forEach(char => {\n      if (this._allowedChars[char]) {\n        if (!mapper[char]) {\n          mapper[char] = 0;\n        }\n\n        mapper[char]++;\n      }\n    });\n\n    return mapper;\n  }\n\n  private getUniqChars(value: string): AllowedChars {\n    const chars: string[] = value.split(\"\");\n\n    return chars.reduce((chars: AllowedChars, item: string) => {\n      chars[item] = true;\n      return chars;\n    }, {});\n  }\n\n  private sortCharStat(a: CharStat, b: CharStat): number {\n    return a.char.charCodeAt(0) - b.char.charCodeAt(0);\n  }\n\n  private _allowedChars: AllowedChars = {};\n}\n\nexport type AllowedChars = { [key: string]: true };\n\nexport type CharStatMapper = { [field: string]: number };\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"antd/dist/antd.css\";\nimport { App } from \"./components/App/App\";\nimport { Provider } from \"mobx-react\";\nimport { createStore } from \"./store/createStore\";\n\nconst stores = {\n  store: createStore(\"abc\")\n};\n\nReactDOM.render(\n  <Provider {...stores}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","import { Store } from \"./Store\";\nimport { IStore } from \"./IStore\";\n\nexport function createStore(allowedChars: string): IStore {\n  const store: Store = new Store();\n  store.setAllowedChars(allowedChars);\n  return store;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"App_root__1Jh3p\",\"appear\":\"App_appear__PpXyh\",\"item\":\"App_item__2R1_5\"};"],"sourceRoot":""}